<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StartTravel/home</title>
    <link rel="shortcut icon" href="../public/Imagens/Logos/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="home.css">
    <script src="js/funcoes.js" defer></script>
</head>

<body onload="pais()">

    <!-- Inicio da página -->
    
    <!-- Fim kkk-->

    <!-- Inicio da home -->
    <div id="home">
        <!--Inicio da Nav Bar-->
        <div class="navBar">
            <ul>
                <div id="logo-img"></div>
                <div id="logo_name"></div>
                <li>Home</li>
               <a href="dashboard.html"><li>Places</li></a>
                <li>Chat</li>
                <a href="settings.html">
                    <li>Settings</li>
                </a>
                <li style="border: 0;"><button>Share</button></li>
            </ul>

            <div id="username">
                <a href="settings.html"><img src="./Imagens/Users/user-default.png"></a>
                <span id="a_usuario"></span>
            </div>
        </div>

        <!--Painel do usuario-->
        <div class="painel">
            <div class="search">
                <img src="./Imagens/Icons/search.png" alt="Search">
                <input type="text" id="inp_search" placeholder="Search">
            </div>
            <div class="user">

                <div id="itens">
                    <img src="./Imagens/Icons/image.png" alt="img">
                </div>
                <input type="text" id="inp_text" placeholder="Tell us about yourself">
                <button>Send</button>
            </div>

            <div class="usuarios">

                <div class="post">

                    <div class="info-bar">
                        <!--Foto do User -->
                        <div class="user-foto" id="Lui"></div>
                        <!-- Nome -->
                        <p class="name-user">Luijean</p>
                        <!--Bandeira de Onde Ele está -->
                        <img src="./Imagens/Countries-logo/france.png">
                        <!--Tempo que postou-->
                        <img class="add-user" src="./Imagens/Icons/add-user.png" alt="">
                        <p class="post-time">7 hours ago</p>
                    </div>

                    <!-- Conteudo postado -->
                    <div class="content">
                        <p class="post-msg">Working!</p>
                        <div class="post-img"></div>
                    </div>

                </div>

                <div class="post">

                    <div class="info-bar">
                        <!--Foto do User -->
                        <div class="user-foto" id="Pedro"></div>
                        <!-- Nome -->
                        <p class="name-user">PedroFern4ndes</p>
                        <!--Bandeira de Onde Ele está -->
                        <img src="./Imagens/Countries-logo/spain.png">
                        <!--Tempo que postou-->
                        <img class="add-user" src="./Imagens/Icons/add-user.png" alt="">
                        <p class="post-time">7 hours ago</p>
                    </div>

                    <!-- Conteudo postado -->
                    <div class="content">
                        <p class="post-msg">El Classico!</p>
                        <div class="post-img" id="PedroFt"></div>
                    </div>

                    <!--
                        <div class="feedback">

                            <div class="like">
                            <button><img src="./Imagens/Icons/like.png" alt="curtir"></button>
                            
                            </div>
                            <div class="comment">
                            <button><img src="./Imagens/Icons/text.png" alt="comentar"></button>
                                                        </div>
                            <div class="share">
                            <button><img src="./Imagens/Icons/share.png" alt="compartilhar"></button>
                                                       </div>
                        </div>
                        -->

                </div>

                <div class="post">

                    <div class="info-bar">
                        <!--Foto do User -->
                        <div class="user-foto" id="Wilson"></div>
                        <!-- Nome -->
                        <p class="name-user">WilsonRodger</p>
                        <!--Bandeira de Onde Ele está -->
                        <img src="./Imagens/Countries-logo/united-states.png">
                        <!--Tempo que postou-->
                        <img class="add-user" src="./Imagens/Icons/add-user.png" alt="">
                        <p class="post-time">32 minutes ago</p>
                    </div>

                    <!-- Conteudo postado -->
                    <div class="content">
                        <p class="post-msg">CSS is hard sometimes</p>
                        <div class="post-img" id="WilsonFt"></div>
                    </div>



                </div>

                <div class="post">

                    <div class="info-bar">
                        <!--Foto do User -->
                        <div class="user-foto" id="Vicenzo"></div>
                        <!-- Nome -->
                        <p class="name-user">VicenzoRossi</p>
                        <!--Bandeira de Onde Ele está -->
                        <img src="./Imagens/Countries-logo/italy.png">
                        <!--Tempo que postou-->
                        <img class="add-user" src="./Imagens/Icons/add-user.png" alt="">
                        <p class="post-time">7 hours ago</p>
                    </div>

                    <!-- Conteudo postado -->
                    <div class="content">
                        <p class="post-msg">Coffe and Code</p>
                        <div class="post-img"></div>
                    </div>




                </div>

                <div class="post">

                    <div class="info-bar">
                        <!--Foto do User -->
                        <div class="user-foto" id="Hillary"></div>
                        <!-- Nome -->
                        <p class="name-user">HillaryWood</p>
                        <!--Bandeira de Onde Ele está -->
                        <img src="./Imagens/Countries-logo/germany.png">
                        <!--Tempo que postou-->
                        <img class="add-user" src="./Imagens/Icons/add-user.png" alt="">
                        <p class="post-time">1 day ago</p>
                    </div>

                    <!-- Conteudo postado -->
                    <div class="content">
                        <p class="post-msg">Working!</p>
                        <div class="post-img"></div>
                    </div>




                </div>

                <div class="post">

                    <div class="info-bar">
                        <!--Foto do User -->
                        <div class="user-foto" id="Indian"></div>
                        <!-- Nome -->
                        <p class="name-user">MohammedJohn</p>
                        <!--Bandeira de Onde Ele está -->
                        <img src="./Imagens/Countries-logo/canada.png">
                        <!--Tempo que postou-->
                        <img class="add-user" src="./Imagens/Icons/add-user.png" alt="">
                        <p class="post-time">7 hours ago</p>
                    </div>

                    <!-- Conteudo postado -->
                    <div class="content">
                        <p class="post-msg">Working!</p>
                        <div class="post-img"></div>
                    </div>




                </div>

                <div class="post">

                    <div class="info-bar">
                        <!--Foto do User -->
                        <div class="user-foto" id="Gabrielly"></div>
                        <!-- Nome -->
                        <p class="name-user">Gabrielly</p>
                        <!--Bandeira de Onde Ele está -->
                        <img src="./Imagens/Countries-logo/united-kingdom.png">
                        <!--Tempo que postou-->
                        <img class="add-user" src="./Imagens/Icons/add-user.png" alt="">
                        <p class="post-time">7 hours ago</p>
                    </div>

                    <!-- Conteudo postado -->
                    <div class="content">
                        <p class="post-msg">Best hostel on London, i am in deep love</p>
                        <div class="post-img" id="GabriellyFt"></div>
                    </div>

                </div>

                <div class="post">

                    <div class="info-bar">
                        <!--Foto do User -->
                        <div class="user-foto" id="fat"></div>
                        <!-- Nome -->
                        <p class="name-user">RudsonLouds</p>
                        <!--Bandeira de Onde Ele está -->
                        <img src="./Imagens/Countries-logo/canada.png">
                        <!--Tempo que postou-->
                        <img class="add-user" src="./Imagens/Icons/add-user.png" alt="">
                        <p class="post-time">7 hours ago</p>
                    </div>

                    <!-- Conteudo postado -->
                    <div class="content">
                        <p class="post-msg">Working!</p>
                        <div class="post-img"></div>
                    </div>




                </div>
            </div>
        </div>

        <div class="timer">
            <div class="titulo">
                <h1>CODE YEARS METTING <br> &lt;/&gt;</h1> <br>
                <h2 id="cronometro">

                    <!-- Id's dos Timer-->
                    <li id="timer-days"></li>
                    <li id="timer-hours"></li>
                    <li id="timer-mins"></li>
                    <li id="timer-secs"></li>

                </h2>
                <div class="paises">
                    <ul>
                        <li>
                            <p id="selectNome1"></p>
                            <p id="selectNota1"></p>
                        </li>
                        <li>
                            <p id="selectNome2"></p>
                            <p id="selectNota2"></p>
                        </li>
                        <li>
                            <p id="selectNome3"></p>
                            <p id="selectNota3"></p>
                        </li>
                        <li>
                            <p id="selectNome4"></p>
                            <p id="selectNota4"></p>
                        </li>
                        <li>
                            <p id="selectNome5"></p>
                            <p id="selectNota5"></p>
                        </li>
                    </ul>

                <div id="metricas">

                   <div id="legenda">
                        <div class="medidas">BAD</div>
                        <div class="medidas">OK</div>
                        <div class="medidas">GOOD</div>
                    </div>

                    <div id="valor">
                        <div class="valores">3.3</div>
                        <div class="valores">4.2</div>
                        <div class="valores">4.6</div>
                    </div>

                    </div>

                </div>

                <p id="qntdVotos">Quantidade de Votos</p>
                <div class="paisVotado">
                    <div id="nomePais"></div>
                    <div id="votoPais"></div>
                </div>
            </div>
        </div>
    </div>

</body>

</html>

<script>

    // Animação do Hello Word;

  

    // Functions Home
    a_usuario.innerHTML = sessionStorage.USERNAME_USUARIO;

</script>

<script>

    /* Os paises e o numero de votos vão estar na mesma posição.
    Então eu pego um numero aleatorio entre 0  e e ultima posição
    do meu vetor e falo pra sortear algum número que ele vai mostrar
    o pais da posicao do numero e o valor da posicao do numero 
    como o push foi feito em ordem as posições vao bater certinho 
    */
    var nomePaises = [];
    var numeroVotos = [];

    
    
    setInterval(() =>{
        
        // Criar 2 vetores para guardar o nome do pais e o numero de votos 

        
        var aleatorio = (Math.random() * (numeroVotos.length)).toFixed(0);

        console.log(aleatorio);

        nomePais.innerHTML = `${nomePaises[aleatorio -1]}`;
        votoPais.innerHTML = `${numeroVotos[aleatorio -1]}`;

    },5000)

 
function pais(){

    fetch('/usuarios/pais').then(function (resposta){

        //Peguei o resultado do select que foi feito no caminho Usuario/PAIS

        if(resposta.ok){

            resposta.json().then(function(resposta){

                console.log('Paises', JSON.stringify(resposta)); // Dei um console pra ver oq estava saindo

                // Varri os resultados do primeiro[0] ao quinto[4]
                for(i = 0; i < resposta.length; i++){

                    var pais = resposta[i];
                    // Defini uma variavel que guarda os valores separados do meu JSON
                    // Pega todos os valores dos paises
                    nomePaises.push(pais.nomePais);
                    numeroVotos.push(pais.qntVotos);

                    // Mandei pra minha lista o valor um por um, usando cada volta do meu for para separar
                    if(i == 0){

                        selectNome1.innerHTML = `${pais.nomePais}`;
                        selectNota1.innerHTML = `${pais.Media}`;

                    }else if(i == 1){

                        selectNome2.innerHTML = `${pais.nomePais}`;
                        selectNota2.innerHTML = `${pais.Media}`;

                    }else if(i == 2){

                        selectNome3.innerHTML = `${pais.nomePais}`;
                        selectNota3.innerHTML = `${pais.Media}`;

                    }else if(i == 3){

                        selectNome4.innerHTML = `${pais.nomePais}`;
                        selectNota4.innerHTML = `${pais.Media}`;
                    }else if(i == 4){

                        selectNome5.innerHTML = `${pais.nomePais}`;
                        selectNota5.innerHTML = `${pais.Media}`;
                    }

                
                }
            })
        }


    })
}

        

</script>